<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta charset="utf-8"/>
    <meta name="referrer" content="origin">

    <!--
        This page is used to render all mathdown documents, using URLs such as
        http://mathdown.net/?doc=iYrTultCuy6

        See https://github.com/cben/mathdown/issues/6 and
        https://github.com/cben/mathdown/issues/10 about security of
        having (secret) doc ID in server-visible part of URL.

        Currently the doc id is only parsed client-side but that should
        change for https://github.com/cben/mathdown/issues/7.
    -->

    <!-- The ellipsis will be replaced when the firepad content is loaded.
         TODO: spin the |\—/ instead? -->
    <title>⋯ | mathdown</title>

    <script src="CodeMirror/lib/codemirror.js"></script>
    <script src="CodeMirror/addon/search/searchcursor.js"></script>
    <script src="CodeMirror/addon/dialog/dialog.js"></script>
    <script src="CodeMirror/addon/search/search.js"></script>
    <script src="CodeMirror/mode/markdown/markdown.js"></script>
    <script src="CodeMirror/addon/mode/overlay.js"></script>
    <script src="CodeMirror/mode/gfm/gfm.js"></script>
    <script src="CodeMirror/addon/fold/foldcode.js"></script>
    <script src="CodeMirror/addon/fold/foldgutter.js"></script>
    <script src="CodeMirror/addon/fold/markdown-fold.js"></script>
    <script src="CodeMirror-MathJax/render-math.js"></script>

    <link rel="stylesheet" href="CodeMirror/lib/codemirror.css"/>
    <link rel="stylesheet" href="CodeMirror/addon/dialog/dialog.css"/>
    <link rel="stylesheet" href="CodeMirror/addon/fold/foldgutter.css" />

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          preview: "none"
        },
        TeX: {
          extensions: ["autoload-all.js"]
        }
      });
    </script>
    <script src="MathJax/MathJax.js?config=TeX-AMS_HTML-full,Safe"></script>

    <script src="firebase/firebase-debug.js"></script>
    <script src="firepad/dist/firepad.js"></script>

    <link rel="stylesheet" href="mathdown.css"/>
    <link rel="stylesheet" href="fonts/lining_numerals_charter.css"/>
  </head>

  <body class="tex2jax_ignore">
    <!-- TODO: clean content/CSS. -->
    <div id="header">
      <a href="?doc=about" target="_blank" id="logo">
        <!-- Use script form rather than $...$ to hide until it's rendered. -->
        <script type="math/tex; mode=inline">\binom{\mathcal{Math}}{\text{down}}</script>
      </a>
      <span class="warning">⚠ Alpha quality ⚠</span>
      |
      <a href="https://github.com/cben/mathdown/issues">bugs</a>
      <span style="float: right">
        <a href="?viewurl=help.md" target="_blank">Help</a>
        |
        <button class="call_to_action" id="new">New document</button>
      </span>
    </div>
    <div id="status_container">
      <span id="status" class="info">loading...</span>
    </div>

    <noscript>
      <h1 class="warning">
        Sorry, currently even viewing a Mathdown document requires JavaScript in your browser.
        I consider that <a href="https://github.com/cben/mathdown/issues/7">a bug</a>.
      </h1>
    </noscript>

    <form id="content"><textarea id="code" name="code"></textarea></form>
    <script src="mathdown.js"></script>
  </body>
</html>
