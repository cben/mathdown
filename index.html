<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta charset="utf-8"/>

    <!--
        This page is used to render all mathdown documents, using URLs such as
        http://mathdown.net/?doc=iYrTultCuy6

        See https://github.com/cben/mathdown/issues/6 and
        https://github.com/cben/mathdown/issues/10 about security of
        having (secret) doc ID in server-visible part of URL.

        Currently the doc id is only parsed client-side but that should
        change for https://github.com/cben/mathdown/issues/7.
    -->

    <!-- The ellipsis will be replaced when the firepad content is loaded.
         TODO: spin the |\—/ instead? -->
    <title>⋯ | mathdown</title>

    <script src="CodeMirror/lib/codemirror.js"></script>
    <script src="CodeMirror/addon/search/searchcursor.js"></script>
    <script src="CodeMirror/addon/dialog/dialog.js"></script>
    <script src="CodeMirror/addon/search/search.js"></script>
    <script src="CodeMirror/mode/markdown/markdown.js"></script>
    <script src="CodeMirror/addon/mode/overlay.js"></script>
    <script src="CodeMirror/mode/gfm/gfm.js"></script>
    <script src="CodeMirror/addon/fold/foldcode.js"></script>
    <script src="CodeMirror/addon/fold/foldgutter.js"></script>
    <script src="CodeMirror/addon/fold/markdown-fold.js"></script>
    <script src="CodeMirror-MathJax/render-math.js"></script>

    <link rel="stylesheet" href="CodeMirror/lib/codemirror.css"/>
    <link rel="stylesheet" href="CodeMirror/addon/dialog/dialog.css"/>
    <link rel="stylesheet" href="CodeMirror/addon/fold/foldgutter.css" />

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          preview: "none"
        },
      });
    </script>
    <script src="MathJax/MathJax.js?config=TeX-AMS_HTML-full,Safe"></script>

    <script src="firebase/firebase.js"></script>
    <script src="firepad/dist/firepad.js"></script>
    <link rel="stylesheet" href="firepad/dist/firepad.css"/>

    <link rel="stylesheet" href="mathdown.css"/>
  </head>

  <body class="tex2jax_ignore">
    <!-- TODO: clean content/CSS. -->
    <div id="header">
      <a href="?doc=about" target="_blank" class="tex2jax_process" id="logo">
        $\binom{\mathcal{Math}}{\text{down}}$
      </a>
      <h1 style="display: inline">
        Collaborative markdown + math |
        <a href="https://github.com/cben/mathdown/issues" class="warning">
          ⚠ Alpha quality! ⚠
        </a>
        <span style="float: right">
          <a href="?doc=help" target="_blank">Help</a> |
          <a href="javascript:newPad()">New document</a>
        </span>
      </h1>
    </div>

    <form id="content"><textarea id="code" name="code"></textarea></form>
    <script src="mathdown.js"></script>
  </body>
</html>
